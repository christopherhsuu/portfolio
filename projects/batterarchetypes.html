<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Batter Archetypes — Christopher Hsu</title>
    <link href="../styles.css" rel="stylesheet">
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <a href="/" class="site-title">Christopher Hsu</a>
          <p class="tagline">Data Science &amp; Sabermetrics</p>
        </div>
        <nav aria-label="Main navigation">
          <ul class="nav-list">
            <li><a href="/">Home</a></li>
            <li><a href="/about.html">About</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="section page-inner" style="max-width:1400px; margin:32px auto 0 auto; background:#16161a; border-radius:18px; box-shadow:0 4px 32px 0 rgba(0,0,0,0.12);">
    <div class="project-container">
      <h1>Batter Archetypes</h1>
      <p class="muted">An exploratory clustering of hitters to identify archetypes (power/speed/contact/etc.) and visualize archetype profiles.</p>

      <div style="margin-top:20px; display:flex; gap:12px; align-items:center;">
        <a class="launch-big" href="https://hitterarchetypes.streamlit.app" target="_blank" rel="noopener noreferrer">Launch (Live)</a>
        <a class="btn ghost" href="https://github.com/christopherhsuu/hitterarchetypes" target="_blank" rel="noopener noreferrer">Code</a>
      </div>

      <section style="margin-top:28px;">
        <h2>Purpose</h2>
        <p class="muted">Hitter Archetypes clusters MLB hitters into interpretable profiles using Statcast and tracking-derived features. The project helps reveal player types — e.g., power-first, contact-oriented, speed profiles — using transparent feature engineering and reproducible clustering.</p>

        <h2>Quick start</h2>
        <ol>
          <li>Install dependencies and ensure `data/player_archetypes.csv` is present.</li>
          <li>Run the Streamlit app: <code>streamlit run app.py</code> to open the interactive explorer.</li>
          <li>Optionally run the clustering script to recompute clusters with different `k` values.</li>
        </ol>

        <h2>Data preparation (what I did)</h2>
        <ol>
          <li>Collected raw Statcast/swing-level CSVs and stored them in `data/raw/`.</li>
          <li>Aggregated per-player metrics (mean, median, p95) into `data/player_archetypes.csv` using `scripts/cluster_archetypes.py`.</li>
          <li>Enriched mappings with `data/raw/unique_batters_with_names.csv` when available to provide user-friendly names.</li>
        </ol>

        <h2>Feature engineering</h2>
        <ol>
          <li>Computed power/contact metrics (launch speed, pct_hard_hit) and swing mechanics (bat speed, swing length).</li>
          <li>Converted angle features to sin/cos pairs to avoid wrap-around issues.</li>
          <li>Log-transformed count-like columns and winsorized at the 1st/99th percentiles; used RobustScaler for final scaling.</li>
        </ol>

        <h2>Clustering pipeline</h2>
        <ol>
          <li>Select features and preprocess (angle expansion, log1p, winsorize, scale).</li>
          <li>Optionally apply PCA for visualization (2 components).</li>
          <li>Run KMeans (example used k=5) with fixed random_state and export per-cluster CSVs.</li>
        </ol>

        <h2>Evaluation &amp; diagnostics</h2>
        <p class="muted">Inspect centroid heatmaps, representative players, and PCA scatter plots. Use silhouette scores or Davies-Bouldin index as quantitative checks and refine features/sampling thresholds accordingly.</p>

        <h2>App usage</h2>
        <p class="muted">`app.py` renders an interactive PCA scatter, centroid heatmaps, and generated plain-English cluster summaries. Search for players by name to inspect deviations from cluster centroids and export cluster CSVs for downstream work.</p>

        <h2>Next steps</h2>
        <p class="muted">Future work includes adding supervised prediction tasks using archetype features, richer temporal aggregations, unit tests for transformations, and a deployed dashboard for sharing results.</p>
      </section>
    </div>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p class="muted">© 2025 Christopher Hsu</p>
      </div>
    </footer>
  </body>
</html>